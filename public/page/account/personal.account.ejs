<div id="root" class="container form-container">
    <div style="display: flex; flex-direction: row; justify-content: space-around;" id="formContain">
      <div style="display: flex;flex-direction: column;align-items: center; justify-content: center;text-align: center;" class="form-group">
        <h2>Thông tin tài khoản</h2>
        <img id="Avt" name="accountImage" src="<%=data.image%>" alt="#"
          style="height: 300px; border-radius: 60px;margin: 30px 0;" />
        <p id="text" class="text-black" style="text-align: center; display: none">
          Click vào hình để chỉnh sửa
        </p>
        <input type="file" id="profileImage" name="accountImage" accept="image/*" class="form-control" required
          style="display: none" />
      </div>
      <form style="width: 600px; margin: 30px;" id="accountForm">
        <div id="editAccountInfo">
        <div class="form-group">
          <label for="accountUsername">Username:</label>
          <input type="hidden" id="accountId" value="<%=data.id%>" />
          <input type="text" value="<%=data.username%>" class="form-control" id="accountUsername" name="accountUsername" required readonly />
        </div>
        <div class="form-group">
          <label for="accountName">Họ và tên:</label>
          <input type="text" class="form-control" id="accountName" name="accountName" required readonly
            value="<%=data.name%>" />
        </div>
        <div class="form-group">
          <label for="accountPhone">Số điện thoại:</label>
          <input type="text" class="form-control" id="accountPhone" name="accountPhone" required readonly
            value="<%=data.phone%>" />
        </div>
        <div class="form-group">
          <label for="accountEmail">Email:</label>
          <input type="text" class="form-control" id="accountEmail" name="accountEmail" required readonly
            value="<%=data.email%>" />
        </div>
        <div class="form-group">
          <label for="accountEmail">Địa chỉ:</label>
          <div class="form-outline mb-4">
            <select class="form-control" id="provinces" onchange="fetchDistricts()">
              <option><%= (data.ward_code_ward!==null) ? data.ward_code_ward.district_code_district.province_code_province.full_name : 'Không có thông tin Tỉnh/TP'%></option>
              
            </select>
          </div>
          <div class="form-outline mb-4">
            <select class="form-control" id="districts" onchange="fetchWards()">
              <option><%=(data.ward_code_ward!==null) ? data.ward_code_ward.district_code_district.full_name : 'Không có thông tin quận/huyện'%></option>
            </select>
          </div>
          <div class="form-outline mb-4">
            <select class="form-control" id="wards">
              <option value="<%=(data.ward_code_ward!==null)? data.ward_code_ward.code : ''%>"><%=(data.ward_code_ward!==null)? data.ward_code_ward.full_name : 'Không có thông tin phường/xã'%></option>
            </select>
          </div>
        </div>
      </div>
      <div id="editAccountPassword" style="display:none; margin-top: 100px;">
        <div class="form-group">
          <label for="accountPassword">Mật khẩu hiện tại:</label>
          <input id="oldPass" type="password" class="form-control" id="accountPassword" name="accountPassword" required />
        </div>
        <div class="form-group">
          <label for="accountPasswordNew">Mật khẩu mới:</label>
          <input id="newPass" type="password" class="form-control" id="accountPasswordNew" name="accountPassword" required />
        </div>
        <div class="form-group">
          <label for="accountPasswordAgain">Xác nhận mật khẩu:</label>
          <input id="confirmNewPass" type="password" class="form-control" id="accountPasswordAgain" name="accountPassword" required />
        </div>
      </div>
        <div style="display: flex; justify-content: space-around; margin:30px 0;" class="">
            <button onclick="Edit()" id="btnEdit" type="button" class="btn btn-primary">Chỉnh sửa</button>
            <button onclick="EditPassword()" id="btnEditPassword" type="button" class="btn btn-success">Đổi mật khẩu</button>
            <button onclick="CancelEdit()" id="btnCancel" type="button" class="btn btn-danger" style="display: none">Huỷ</button>
            <button onclick="submitChangePassword(event)" id="btnSubmit" type="button" class="btn btn-success"style="display: none">
              Hoàn tất
            </button>
        </div>
      </form>
    </div>
  </div>