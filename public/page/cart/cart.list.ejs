<%if(data.length == 0){%>
<div class="container text-center text-black">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <h3 class="mt-5">Your cart is empty</h3>
      <p class="lead" style="margin: 30px auto">
        Please add some product to your cart
      </p>
      <a class="btn btn-primary" style="margin: 10px auto" href="/"
        >Go to list home</a
      >
    </div>
  </div>
</div>
<% } else { %>
<div class="container form-container">
  <h1>Giỏ hàng</h1>
  <table class="table">
    <thead>
      <tr>
        <th>Tên sản phẩm</th>
        <th>Hình</th>
        <th>Số lượng</th>
        <th>Giá</th>
        <th>Tổng</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% data.forEach(item => { %>
      <tr>
        <td><%=item.product.name%></td>
        <td>
          <img
            src="<%=item.product.image%>"
            alt="Hình ảnh"
            style="height: 100px"
          />
        </td>
        <td>
          <label>
            <input
              type="number"
              min="1"
              value="<%=item.quantity%>"
              attr="data-id= <%=item.product_id%>"
              class="form-control quantity"
            />
            <button>+</button>
            <button>-</button>
          </label>
        </td>
        <td>
          <label>
            <p readonly><%=item.product.price%></p>
          </label>
        </td>
        <td>
          <label>
            <p readonly><%=item.quantity*item.product.price%></p>
          </label>
        </td>
        <td>
          <a
            class="btn btn-danger"
            href="@{/cart/removeFromCart/{id}(id=${item.getDienthoaiId()})}"
          >
            Remove
          </a>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>
  <div class="row">
    <div class="col-md-12">
      <h3>
        Total:
        <span
          th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 2, 'POINT')}"
        ></span>
      </h3>
    </div>
    <div class="col-md-12 text-center" style="margin: 10px 0">
      <a class="btn btn-success" style="margin: 0px 15px">Checkout</a>
      <a class="btn btn-danger">Clear Cart</a>
    </div>
  </div>
</div>
<% } %>
<script>
  console.log(data);
</script>
